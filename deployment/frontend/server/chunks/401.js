exports.id=401,exports.ids=[401],exports.modules={440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1135:()=>{},1981:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},2006:(e,t,s)=>{Promise.resolve().then(s.bind(s,3758)),Promise.resolve().then(s.bind(s,2843))},2394:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>a});var r=s(2907);let a=(0,r.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\AI-FOR-GOOD-2025-Gumball\\frontend\\src\\app\\context\\AuthContext.tsx","AuthProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\AI-FOR-GOOD-2025-Gumball\\frontend\\src\\app\\context\\AuthContext.tsx","useAuth")},2843:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>f,A:()=>b});var r=s(687),a=s(3210),n=s(6189),o=s(5659),i=s(8222),l=s(1060);let d=(e,t,s)=>{console.log(`API ${e} ${t}`,s||"")},c=l.A.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"}});c.interceptors.request.use(e=>e,e=>Promise.reject(e));let m=async e=>{try{d("POST","/auth/login",{email:e.email});let t=new URLSearchParams;t.append("username",e.email),t.append("password",e.password);let s=await c.post("/auth/login",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return console.log("Login successful:",s.data),s.data}catch(t){console.error("Login failed:",t.response?.data||t.message);try{d("POST","/auth/login-simple",{email:e.email});let t=await c.post("/auth/login-simple",e);return console.log("Simple login successful:",t.data),t.data}catch(e){throw console.error("Simple login also failed:",e.response?.data||e.message),Error(t.response?.data?.detail||e.response?.data?.detail||"Login failed")}}},h=async e=>{try{d("POST","/auth/register",{email:e.email});let t=await c.post("/auth/register",{email:e.email,password:e.password,is_active:!0,is_superuser:!1});console.log("Registration successful:",t.data)}catch(e){throw console.error("Registration failed:",e.response?.data||e.message),Error(e.response?.data?.detail||"Registration failed")}},u=async e=>{try{d("POST","/auth/test-token");let t=await c.post("/auth/test-token",{},{headers:{Authorization:`Bearer ${e}`}});return console.log("Got current user:",t.data),t.data}catch(t){console.error("Failed to get user data:",t.response?.data||t.message);try{d("GET","/auth/me");let t=await c.get("/auth/me",{headers:{Authorization:`Bearer ${e}`}});return console.log("Got user from /me endpoint:",t.data),t.data}catch(e){throw console.error("Failed to get user data from /me endpoint:",e.response?.data||e.message),Error(t.response?.data?.detail||e.response?.data?.detail||"Failed to get user data")}}},x=async(e,t)=>{try{let s=await c.post("/api/auth/refresh-token",{},{headers:{Authorization:`Bearer ${e}`,refreshToken:t}});o.A.set("token",s.data.access_token,{expires:1})}catch(t){let e=t.response?.data||t.message;throw console.error("Failed to refresh token:",e),Error(e||"Failed to get user data")}},p={user:null,token:null,refToken:null,isAuthenticated:!1,isLoading:!0,error:null},g=(0,a.createContext)(void 0),f=({children:e})=>{let[t,s]=(0,a.useState)(p),l=(0,n.useRouter)();(0,a.useEffect)(()=>{(async()=>{let e=o.A.get("token"),t=o.A.get("refreshToken");if(e)try{let r=await u(e);s({user:r,token:e,refToken:t,isAuthenticated:!0,isLoading:!1,error:null}),console.log("User authenticated:",r.email)}catch(e){console.error("Authentication error:",e),o.A.remove("token"),s({...p,isLoading:!1})}else console.log("No token found, user not authenticated"),s({...p,isLoading:!1})})()},[]);let d=async e=>{try{console.log("Login attempt with:",e.email),s({...t,isLoading:!0,error:null});let r=await m(e);console.log("Full login response:",r);let n=r.access_token;if(!n)throw Error("No access token received");let d=r.refresh_token||null;d||console.log("No refresh token received. Login session will expire soon."),o.A.set("token",n,{expires:1}),o.A.set("refreshToken",d,{expires:7}),console.log("Tokens saved in cookie");let c=await u(n);console.log("User data retrieved:",c),s({user:c,token:n,refToken:d,isAuthenticated:!0,isLoading:!1,error:null}),(0,a.useEffect)(()=>{let e=setInterval(async()=>{let e=o.A.get("token"),t=o.A.get("refreshToken");if(e&&t){let{exp:s}=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);s-r<300&&x(e,t)}},6e4);return()=>clearInterval(e)},[]),i.oR.success("Login successful!"),l.push("/dashboard")}catch(r){console.error("Login error details:",r);let e="Invalid email or password";r.message?e=r.message:r.response?.data?.detail&&(e=r.response.data.detail),s({...t,isLoading:!1,error:e}),i.oR.error("Login failed. Please check your credentials.")}},c=async e=>{try{s({...t,isLoading:!0,error:null}),await h(e),s({...t,isLoading:!1}),i.oR.success("Registration successful! Please login."),l.push("/login")}catch(e){s({...t,isLoading:!1,error:"Registration failed"}),i.oR.error("Registration failed. Please try again.")}};return(0,r.jsx)(g.Provider,{value:{...t,login:d,register:c,logout:()=>{o.A.remove("token"),s({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null}),l.push("/login"),i.oR.info("You have been logged out.")}},children:e})},b=()=>{let e=(0,a.useContext)(g);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3758:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(687),a=s(3210),n=s(6189),o=s(2843);let i=["/dashboard","/upload","/patients","/profile","/settings"],l=({children:e})=>{let{isAuthenticated:t,isLoading:s}=(0,o.A)(),l=(0,n.useRouter)(),d=(0,n.usePathname)();return((0,a.useEffect)(()=>{!s&&(!t&&i.some(e=>d.startsWith(e))&&l.push("/login"),t&&["/login","/register"].includes(d)&&l.push("/dashboard"))},[t,s,d,l]),s)?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,r.jsx)(r.Fragment,{children:e})}},4431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,metadata:()=>c});var r=s(7413),a=s(2376),n=s.n(a),o=s(8726),i=s.n(o);s(1135);var l=s(2394),d=s(9964);let c={title:"MedScan AI - Medical Imaging Analysis",description:"AI-powered analysis of CT, MRI, and X-ray scans for disease detection"};function m({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${n().variable} ${i().variable} antialiased`,children:(0,r.jsx)(l.AuthProvider,{children:(0,r.jsx)(d.default,{children:e})})})})}},7378:(e,t,s)=>{"use strict";s.d(t,{A:()=>g});var r=s(687),a=s(3210),n=s.n(a),o=s(5814),i=s.n(o),l=s(6189),d=s(2843),c=s(6749),m=s(5915),h=s(5220),u=s(8434);let x=()=>{let{user:e,isAuthenticated:t,logout:s}=(0,d.A)(),a=(0,l.usePathname)(),o=[{name:"Dashboard",href:"/dashboard",icon:c.V5Y,current:"/dashboard"===a},{name:"Upload Scan",href:"/upload",icon:c.B88,current:"/upload"===a},{name:"Patients",href:"/patients",icon:c.Wm,current:"/patients"===a}],x=[{name:"Your Profile",href:"/profile",icon:c.JXP},{name:"Settings",href:"/settings",icon:c.VSk}];return(0,r.jsx)(m.EN,{as:"nav",className:"bg-white shadow-sm",children:({open:a})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,r.jsx)(i(),{href:"/",className:"text-xl font-bold text-blue-600",children:"MedScan AI"})}),t&&(0,r.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:o.map(e=>(0,r.jsxs)(i(),{href:e.href,className:`${e.current?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:[(0,r.jsx)(e.icon,{className:"mr-1 h-5 w-5"}),e.name]},e.name))})]}),(0,r.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:t?(0,r.jsxs)(h.W1,{as:"div",className:"ml-3 relative",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(h.W1.Button,{className:"bg-white rounded-full flex text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open user menu"}),(0,r.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600",children:e?.email.charAt(0).toUpperCase()})]})}),(0,r.jsx)(u.e,{as:n().Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsxs)(h.W1.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[(0,r.jsx)("div",{className:"px-4 py-2 text-sm text-gray-700 border-b",children:(0,r.jsx)("p",{className:"font-medium",children:e?.email})}),x.map(e=>(0,r.jsx)(h.W1.Item,{children:({active:t})=>(0,r.jsxs)(i(),{href:e.href,className:`${t?"bg-gray-100":""} flex items-center px-4 py-2 text-sm text-gray-700`,children:[(0,r.jsx)(e.icon,{className:"mr-3 h-5 w-5 text-gray-400"}),e.name]})},e.name)),(0,r.jsx)(h.W1.Item,{children:({active:e})=>(0,r.jsxs)("button",{onClick:s,className:`${e?"bg-gray-100":""} flex w-full items-center px-4 py-2 text-sm text-gray-700`,children:[(0,r.jsx)(c.QeK,{className:"mr-3 h-5 w-5 text-gray-400"}),"Sign out"]})})]})})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(i(),{href:"/login",className:"text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium",children:"Login"}),(0,r.jsx)(i(),{href:"/register",className:"bg-blue-600 text-white hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium",children:"Register"})]})}),(0,r.jsx)("div",{className:"-mr-2 flex items-center sm:hidden",children:(0,r.jsxs)(m.EN.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open main menu"}),a?(0,r.jsx)(c.yGN,{className:"block h-6 w-6","aria-hidden":"true"}):(0,r.jsx)(c.ND1,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),(0,r.jsxs)(m.EN.Panel,{className:"sm:hidden",children:[t&&(0,r.jsx)("div",{className:"pt-2 pb-3 space-y-1",children:o.map(e=>(0,r.jsxs)(m.EN.Button,{as:"a",href:e.href,className:`${e.current?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium flex items-center`,children:[(0,r.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name))}),(0,r.jsx)("div",{className:"pt-4 pb-3 border-t border-gray-200",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center px-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600",children:e?.email.charAt(0).toUpperCase()})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("div",{className:"text-base font-medium text-gray-800",children:e?.email})})]}),(0,r.jsxs)("div",{className:"mt-3 space-y-1",children:[x.map(e=>(0,r.jsxs)(m.EN.Button,{as:"a",href:e.href,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100 flex items-center",children:[(0,r.jsx)(e.icon,{className:"mr-3 h-5 w-5 text-gray-400"}),e.name]},e.name)),(0,r.jsxs)(m.EN.Button,{as:"button",onClick:s,className:"block w-full text-left px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100 flex items-center",children:[(0,r.jsx)(c.QeK,{className:"mr-3 h-5 w-5 text-gray-400"}),"Sign out"]})]})]}):(0,r.jsxs)("div",{className:"mt-3 space-y-1 px-2",children:[(0,r.jsx)(m.EN.Button,{as:"a",href:"/login",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Login"}),(0,r.jsx)(m.EN.Button,{as:"a",href:"/register",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Register"})]})})]})]})})};var p=s(8222);s(5806);let g=({children:e})=>(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(x,{}),(0,r.jsx)("main",{className:"py-10",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e})}),(0,r.jsx)(p.N9,{position:"bottom-right"})]})},8013:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},8958:(e,t,s)=>{Promise.resolve().then(s.bind(s,9964)),Promise.resolve().then(s.bind(s,2394))},9964:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\AI-FOR-GOOD-2025-Gumball\\\\frontend\\\\src\\\\app\\\\components\\\\auth\\\\AuthGuard.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\AI-FOR-GOOD-2025-Gumball\\frontend\\src\\app\\components\\auth\\AuthGuard.tsx","default")}};